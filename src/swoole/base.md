# 前置知识
## 进程与线程
进程：进程就是操作系统开启的一个任务，比如记事本打开一个文件，打开一个浏览器等。

线程：在一个线程内部同时运行着多个"子任务"，可以把这些子任务称之为线程.比如打开word，会同时进行打字输入和拼写检查等一系列同时进行的操作.所以一个进程由很多个线程组成。线程实际是操作系统的最小执行单元。

线程比进程更轻量，线程之间是共享内存的，不同线程之间的交互就更容易实现.多进程之间的通信需要借助消息队列、共享内存等复杂方式才能实现。

## IO模型
IO: Input/Output 的缩写，计算机世界中涉及到数据交换的地方就需要IO接口。

## 同步IO和异步IO

例子：程序往磁盘写入一个文本文件，往磁盘写入数据需要磁盘的IO操作，相比之下程序往内存写入数据慢很多，需要等待磁盘IO操作完成，才能进行下一步。

上面这个例子就是一个同步IO,同步IO会阻塞（IO操作完成前会阻塞）后面的代码执行

在同一线程内，执行一些耗时的任务时，其他代码是不能继续执行的，要等待该任务操作完之后才可以。为了解决这个问题，就有了异步IO

异步IO: 当程序需要执行一个非常耗时的IO操作的时候，它只发出IO指令，不需要等待IO的结果，然后可以继续执行其他的代码了。当IO返回结果时，再通知CPU去处理，这就是异步IO。

总结：同步IO模型下，主线程只能被挂起等待，但是在异步IO模型中，主线程发起IO指令后，可以继续执行其他指令，没有被挂起，也没有切换线程的操作。由此看来，使用异步IO明显可以提高了系统性能。

## TCP/IP和UDP

打开一个网页背后所发生的事：
1. 浏览器通过TCP/IP协议建立到服务器的TCP连接
2. 客户端向服务器发送http协议请求包
3. 服务器向客户端发送http协议应答包，如果请求的资源中有动态语言的内容，会调用动态语言的解释引擎处理完后再放入应答包
4. 客户端收到响应，断开TCP链接，通过浏览器解释html文档渲染页面

客户端和服务器之间通信：
1. IP协议负责把你本机的数据发送到服务端，数据被分割成一块一块的。然后通过IP包发送出去。IP包的特点是按块发送，但不保证能到达，也不保证数据块依次到达。这样进行数据传输，服务器根本不能保证接收到的数据的完整性和顺序性
2. 于是乎，TCP协议应运而生，它是建立在IP协议之上，专门负责建立可靠连接，并保证数据包顺序到达。TCP协议会通过握手建立连接，然后，对每个IP包编号，确保对方顺序收到，如果出现丢包，则重新发送。
3. TCP协议还有一个更重要的特点，它是基于数据流的。这就好比客户端和服务端要进行数据交互，中间有一个管子连接着，这个时候交互数据就好比管子中的水，当数据在传输（水在流动）的过程中，服务端是无法知道哪段数据是我们想要的完整数据。

UDP协议：UDP协议进行通信的最大区别就是，UDP不需要建立连接，给他一个ip和端口，就可以直接发送数据包了。但是，能不能成功到达就不知道了。虽然UDP传输不可靠，但是速度快。对于一些对数据要求不高的场景，使用UDP通信无疑是不错的选择。